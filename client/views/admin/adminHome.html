<div>
  <div class="container mt-5 mb-5">
    <h3 class="text-center text-black mt-5 mb-5">Book your apartment</h3>
    <form name="form" novalidate>
      <div class="row">
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="ID"
            name="id"
            ng-model="updateBooking.id"
            required
            disabled
          />
        </div>
      </div>
      <div class="row">
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="Full Name"
            name="fullName"
            ng-model="updateBooking.fullName"
            required
          />
          <div
            ng-show="form.fullName.$dirty && form.fullName.$invalid"
            class="text-danger"
          >
            <span ng-show="form.fullName.$error.required"> Name Required </span>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="Passport"
            name="passport"
            ng-model="updateBooking.passport"
            required
            ng-pattern="/^[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{6}$/"
          />
          <div
            ng-show="form.passport.$dirty && form.passport.$invalid"
            class="text-danger"
          >
            <span ng-show="form.passport.$error.required">
              Passport Required
            </span>
            <span ng-show="form.passport.$error.pattern">
              Passport is invalid
            </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="Email"
            name="email"
            ng-model="updateBooking.email"
            required
            ng-pattern="/^\S+@\S+\.\S+$/"
          />
          <div
            ng-show="form.email.$dirty && form.email.$invalid"
            class="text-danger"
          >
            <span ng-show="form.email.$error.required"> Email Required </span>
            <span ng-show="form.email.$error.pattern"> Email is invalid </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label>Gender</label>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              value="male"
              ng-model="updateBooking.gender"
            />
            <label class="form-check-label">Male</label>
          </div>
          <div class="form-check form-check-inline">
            <input
              class="form-check-input"
              type="radio"
              value="female"
              ng-model="updateBooking.gender"
            />
            <label class="form-check-label">Female</label>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="Phone number"
            ng-model="updateBooking.phoneNumber"
            name="phoneNumber"
            required
            ng-pattern="/^(\+?\d{1,3}[- ]?)?\d{10}$/"
          />

          <div
            ng-show="form.phoneNumber.$dirty && form.phoneNumber.$invalid"
            class="text-danger"
          >
            <span ng-show="form.phoneNumber.$error.required">
              PhoneNumber Required
            </span>
            <span ng-show="form.phoneNumber.$error.pattern">
              Phone number is invalid
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">
          <select
            class="form-select"
            aria-label="Default select example"
            ng-model="updateBooking.flight"
            name="flight"
            required
          >
            <option selected value="VietName Airline">VietName Airline</option>
            <option value="VietJet">VietJet</option>
          </select>
          <div
            ng-show="form.flight.$dirty && form.flight.$invalid"
            class="text-danger"
          >
            <span ng-show="form.flight.$error.required"> Flight Required </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="mb-3">
            <input
              type="date"
              class="form-control"
              placeholder="Birthday"
              ng-model="updateBooking.birthday"
              name="birthday"
              required
            />

            <div
              ng-show="form.birthday.$dirty && form.birthday.$invalid"
              class="text-danger"
            >
              <span ng-show="form.birthday.$error.required">
                Birthday Required
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="Luggage"
            ng-model="updateBooking.luggage"
            name="luggage"
            required
          />
          <div
            ng-show="form.luggage.$dirty && form.luggage.$invalid"
            class="text-danger"
          >
            <span ng-show="form.luggage.$error.required">
              Luggage Required
            </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <select
            class="form-select"
            aria-label="Default select example"
            ng-model="updateBooking.payment"
            name="payment"
            required
          >
            <option selected value="mastercard">Master Card</option>
            <option value="cod">COD</option>
            <option value="momo">Momo</option>
            <option value="vnpay">VN Pay</option>
          </select>
          <div
            ng-show="form.payment.$dirty && form.payment.$invalid"
            class="text-danger"
          >
            <span ng-show="form.payment.$error.required">
              Payment Required
            </span>
          </div>
        </div>
      </div>
      <button
        class="btn text-white w-100 p-3"
        style="background-color: #fd7792"
        ng-click="updateData(updateBooking.id)"
        ng-disabled="form.$invalid"
      >
        Update
      </button>
    </form>
  </div>
</div>

<div class="container mt-5 mb-5" style="overflow-x: scroll">
  <h1 class="text-center mt-2 mb-5" style="color: #fc456a">Admin Booking</h1>
  <table class="table table-hover border">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">FullName</th>
        <th scope="col">Passport</th>
        <th scope="col">Email</th>
        <th scope="col">Gender</th>
        <th scope="col">PhoneNumber</th>
        <th scope="col">Flight</th>
        <th scope="col">Birthday</th>
        <th scope="col">Luggage</th>
        <th scope="col">Payment</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="data in adminData">
        <th scope="row">{{data.id}}</th>
        <td>{{data.fullName}}</td>
        <td>{{data.passport}}</td>
        <td>{{data.email}}</td>
        <td>{{data.gender === 0 ? "Male" : "Female"}}</td>
        <td>{{data.phoneNumber}}</td>
        <td>{{data.flight}}</td>
        <td>{{convertTime(data.birthday)}}</td>
        <td>{{data.luggage}}</td>
        <!-- <td>
          <p ng-repeat="item in data.luggage track by $index">{{item}}</p>
        </td> -->
        <td>{{data.payment}}</td>
        <td>
          <button
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#exampleModal"
          >
            Delete
          </button>
          <div
            class="modal fade"
            id="exampleModal"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">
                    Delete
                  </h1>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">Ban co muon xoa khong ?</div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Close
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    data-bs-dismiss="modal"
                    ng-click="deleteData(data)"
                  >
                    Save
                  </button>
                </div>
              </div>
            </div>
          </div>
          <button class="btn btn-warning" ng-click="getDataById(data.id)">
            Update
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
